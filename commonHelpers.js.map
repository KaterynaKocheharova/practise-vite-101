{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import { nanoid } from 'nanoid'\n\nconst form = document.querySelector(\"#task-form\");\nconst taskEl = document.querySelector('#task-list');\nconst TASK_KEY = \"tasks\"\n\nlocalStorageDataMarkup()\n\nform.addEventListener(\"submit\", onTaskSubmit);\n\nfunction onTaskSubmit(event) {\n    event.preventDefault();\n    const inputValue = event.currentTarget.elements.taskName.value.trim();\n    if (!inputValue) return;\n    createListEl(inputValue);\n    console.log(inputValue);\n    event.currentTarget.reset();\n}\n\nfunction createListEl(textValue) {\n    const id = nanoid();\n    taskEl.insertAdjacentHTML(\"beforeend\", `<li id=${id}>${textValue}<button class=\"deleteBtn\" type='button'>x</button></li>`)\n    saveDataToLS(id, textValue);\n}\n\nfunction saveDataToLS(id, task) {\n    const dataArray = JSON.parse(localStorage.getItem(TASK_KEY)) || [];\n\n    const obj = {\n        task,\n        id\n    }\n\n    dataArray.push(obj);\n\n    localStorage.setItem(TASK_KEY, JSON.stringify(dataArray));\n}\n\nfunction localStorageDataMarkup() {\n    const data = JSON.parse(localStorage.getItem(TASK_KEY))\n\n    if (!data) return\n\n    const dataMarkUp = data.map(item => {\n        return `<li id=${item.id}> ${item.task} <button class=\"deleteBtn\"  type='button'>x</button></li >`\n    }).join('')\n\n    taskEl.insertAdjacentHTML(\"beforeend\", dataMarkUp)\n}\n\ntaskEl.addEventListener(\"click\", onRemoveTask);\n\nfunction onRemoveTask(event) {\nif(!event.target.classList.contains(\"deleteBtn\")) return;\n\nconsole.log(event.target.parentNode.id);\n\nconst id = event.target.parentNode.id;\n\nconst dataArray = JSON.parse(localStorage.getItem(TASK_KEY));\n\nconst newData = dataArray.filter(listItem => listItem.id !== id);\n\nlocalStorage.setItem(TASK_KEY, JSON.stringify(newData));\n\nevent.target.parentNode.remove();\n\n\n\n}"],"names":["form","taskEl","TASK_KEY","localStorageDataMarkup","onTaskSubmit","event","inputValue","createListEl","textValue","id","nanoid","saveDataToLS","task","dataArray","obj","data","dataMarkUp","item","onRemoveTask","newData","listItem"],"mappings":"svBAEA,MAAMA,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAW,QAEjBC,EAAwB,EAExBH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,SAAS,MAAM,OAC1DC,IACLC,EAAaD,CAAU,EACvB,QAAQ,IAAIA,CAAU,EACtBD,EAAM,cAAc,QACxB,CAEA,SAASE,EAAaC,EAAW,CAC7B,MAAMC,EAAKC,IACXT,EAAO,mBAAmB,YAAa,UAAUQ,CAAE,IAAID,CAAS,yDAAyD,EACzHG,EAAaF,EAAID,CAAS,CAC9B,CAEA,SAASG,EAAaF,EAAIG,EAAM,CAC5B,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQX,CAAQ,CAAC,GAAK,GAE1DY,EAAM,CACR,KAAAF,EACA,GAAAH,CACH,EAEDI,EAAU,KAAKC,CAAG,EAElB,aAAa,QAAQZ,EAAU,KAAK,UAAUW,CAAS,CAAC,CAC5D,CAEA,SAASV,GAAyB,CAC9B,MAAMY,EAAO,KAAK,MAAM,aAAa,QAAQb,CAAQ,CAAC,EAEtD,GAAI,CAACa,EAAM,OAEX,MAAMC,EAAaD,EAAK,IAAIE,GACjB,UAAUA,EAAK,EAAE,KAAKA,EAAK,IAAI,4DACzC,EAAE,KAAK,EAAE,EAEVhB,EAAO,mBAAmB,YAAae,CAAU,CACrD,CAEAf,EAAO,iBAAiB,QAASiB,CAAY,EAE7C,SAASA,EAAab,EAAO,CAC7B,GAAG,CAACA,EAAM,OAAO,UAAU,SAAS,WAAW,EAAG,OAElD,QAAQ,IAAIA,EAAM,OAAO,WAAW,EAAE,EAEtC,MAAMI,EAAKJ,EAAM,OAAO,WAAW,GAI7Bc,EAFY,KAAK,MAAM,aAAa,QAAQjB,CAAQ,CAAC,EAEjC,OAAOkB,GAAYA,EAAS,KAAOX,CAAE,EAE/D,aAAa,QAAQP,EAAU,KAAK,UAAUiB,CAAO,CAAC,EAEtDd,EAAM,OAAO,WAAW,QAIxB"}